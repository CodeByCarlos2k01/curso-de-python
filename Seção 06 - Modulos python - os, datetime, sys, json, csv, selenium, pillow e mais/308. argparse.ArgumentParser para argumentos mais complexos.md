# Passo a passo — usar `argparse` (simplificado)

1. **O que é**
   `argparse` é o módulo que cria um parser de linha de comando robusto. Ele transforma os argumentos em atributos nomeados (um `Namespace`) e gera help/erros automaticamente.

2. **Criar o parser**

   ```py
   from argparse import ArgumentParser
   parser = ArgumentParser(description="Descrição curta do seu programa")
   ```

3. **Declarar argumentos** (o básico)

   * `parser.add_argument('-b','--basic', help='texto', type=str, default='Olá mundo', metavar='STRING')`
     → opção com forma curta e longa, tipo, valor padrão e nome mostrado no help.
   * `parser.add_argument('-v','--verbose', action='store_true', help='modo verboso')`
     → flag booleana (True se passada).
   * `parser.add_argument('-n','--names', nargs='+', help='uma ou mais strings')`
     → aceita vários valores separados por espaço (`nargs='+'`).
   * `parser.add_argument('-c','--color', action='append', help='pode repetir para acumular')`
     → se passado várias vezes acumula numa lista.
   * `parser.add_argument('--count', type=int, choices=range(1,6), help='1..5', default=1)`
     → validações e tipo automático.

4. **Ler os argumentos**

   ```py
   args = parser.parse_args()
   # acessar: args.basic, args.verbose, args.names, args.color, args.count
   ```

5. **Help e validação automática**

   * `-h/--help` é gerado automaticamente e mostra `help`, `metavar`, `default`.
   * Se um argumento marcado `required=True` faltar, o parser mostra erro e usage.

6. **Exemplo mínimo completo**

   ```py
   # exemplo_argparse.py
   from argparse import ArgumentParser

   def main():
       parser = ArgumentParser(description="Exemplo rápido de argparse")
       parser.add_argument('-b','--basic', metavar='STRING', type=str,
                           help='texto básico', default='Olá mundo')
       parser.add_argument('-n','--names', nargs='+', metavar='NOME',
                           help='uma ou mais strings separadas por espaço')
       parser.add_argument('-c','--color', action='append',
                           help='pode repetir para acumular valores')
       parser.add_argument('-v','--verbose', action='store_true',
                           help='liga modo verboso')
       parser.add_argument('--count', type=int, choices=range(1,6),
                           help='um número entre 1 e 5', default=1)

       args = parser.parse_args()

       print("basic:", args.basic)
       print("names:", args.names)
       print("color:", args.color)
       print("verbose:", args.verbose)
       print("count:", args.count)

   if __name__ == '__main__':
       main()
   ```

7. **Exemplo de uso (linha de comando)**

   ```
   python exemplo_argparse.py -b "teste" -n Alice Bob -c red -c blue -v --count 3
   ```

   Saída esperada:

   ```
   basic: teste
   names: ['Alice', 'Bob']
   color: ['red', 'blue']
   verbose: True
   count: 3
   ```

8. **Dicas rápidas**

   * Use `type=` para converter (int, float, str).
   * `choices=` limita valores permitidos.
   * `required=True` obriga o envio (só faz sentido em opções “long”).
   * Prefira `argparse` quando o script precisa de interface de linha de comando "de verdade".
   * Se precisar de subcomandos (como `git add` / `git commit`) use `parser.add_subparsers()`.

Quer que eu gere esse script pronto para você copiar e testar?
