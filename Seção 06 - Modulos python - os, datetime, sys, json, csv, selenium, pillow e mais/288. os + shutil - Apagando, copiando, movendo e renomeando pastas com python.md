# Passo a passo (simples e direto) — operações de copiar/mover/apagar pastas e arquivos

### 1 — Antes de tudo: backup e *dry run*

1. **Faça backup** dos dados importantes.
2. Sempre teste com uma pasta pequena primeiro.
3. Comece com um *dry run* (apenas imprimir o que seria feito) e só depois execute de verdade.

---

### 2 — Importações úteis

```python
import os
import shutil
```

---

### 3 — Copiar pasta inteira (recursivamente)

* **Opção segura (remover destino antes)**:

```python
if os.path.exists(dst):
    shutil.rmtree(dst)      # APAGAR o destino (perigoso!)
shutil.copytree(src, dst)    # copia tudo de src → dst
```

* **Opção que permite destino já existente (Python ≥3.8)**:

```python
shutil.copytree(src, dst, dirs_exist_ok=True)
```

* **Se quiser preservar metadados (arquivo por arquivo)**: use `shutil.copy2(...)`.

---

### 4 — Apagar pasta inteira (recursivamente)

* **Perigoso — permanente, não vai para a lixeira**:

```python
shutil.rmtree(path)               # apaga tudo em path
# ou ignorar erros:
shutil.rmtree(path, ignore_errors=True)
```

* **Mais seguro**: verificar antes e pedir confirmação do usuário.

---

### 5 — Apagar arquivo

```python
if os.path.exists(file_path):
    os.remove(file_path)   # ou os.unlink(file_path)
```

---

### 6 — Mover / renomear

* **Mover (ou renomear) com suporte entre discos**:

```python
shutil.move(src, dst)  # move arquivo/pasta; também renomeia
```

* **Renomear simples (pode falhar entre discos)**:

```python
os.rename(src, dst)
```

---

### 7 — Boas práticas / dicas

* **Sempre** verificar `os.path.exists(...)` antes de apagar/copiar para evitar exceções.
* Use `try/except` para capturar `OSError`, `PermissionError`, etc.
* **Dry run**: primeiro imprima as ações (`print("[COPY]", src, "->", dst)`) antes de chamar `shutil`.
* Tome cuidado com arquivos ocultos (ex.: `.DS_Store`) — filtre se necessário.
* Operações com `shutil.rmtree` são **irreversíveis**: use com extrema cautela.

---

### 8 — Exemplo mínimo com *dry run*

```python
def safe_copytree(src, dst, dry_run=True):
    for root, dirs, files in os.walk(src):
        rel = os.path.relpath(root, src)
        target_dir = os.path.join(dst, rel) if rel != '.' else dst
        if dry_run:
            print("[MKDIR]", target_dir)
        else:
            os.makedirs(target_dir, exist_ok=True)
        for f in files:
            s = os.path.join(root, f)
            d = os.path.join(target_dir, f)
            if dry_run:
                print("[COPY]", s, "->", d)
            else:
                shutil.copy2(s, d)
```

Use primeiro `safe_copytree(src, dst, dry_run=True)` e depois `dry_run=False` quando tudo estiver certo.

---

Se quiser, eu adapto esse passo a passo a um **script completo** com prompts de confirmação, filtro por extensão (ex.: só imagens), logs ou progresso. Quer que eu gere um script pronto para você testar?
