# Passo a passo — esconder senhas com `.env` (super direto)

1. **Objetivo rápido**
   Evitar subir senhas/segredos ao GitHub usando um arquivo `.env` local e publicar só um `.env.example`.

2. **Crie `.env.example` (exemplo público)**
   Salve na pasta do `docker-compose.yml` com valores de exemplo:

   ```env
   MYSQL_ROOT_PASSWORD="troque_essa_senha"
   MYSQL_DATABASE="base_de_dados"
   MYSQL_USER="usuario"
   MYSQL_PASSWORD="senha"
   TZ="America/Recife"
   ```

   → **Commit** esse arquivo (`.env.example`) no repositório.

3. **Crie o `.env` real local**
   Copie/renomeie o `.env.example` para `.env` e preencha com suas senhas reais (não commitar):

   * Linux/Mac: `cp .env.example .env`
   * Windows (cmd): `copy .env.example .env`
   * Ou crie manualmente no editor.

4. **Ignorar `.env` no Git**
   No `.gitignore` adicione:

   ```
   .env
   mysql-data/
   ```

   Se já comitou `.env` por engano:
   `git rm --cached .env && git commit -m "remove .env"`.

5. **Diga ao Docker para usar o `.env`**
   No `docker-compose.yml` (serviço MySQL) adicione:

   ```yaml
   services:
     mysql:
       image: mysql:8
       env_file:
         - .env
       # ... restante da configuração
   ```

   (Alternativa: usar `environment: - MYSQL_PASSWORD=${MYSQL_PASSWORD}`)

6. **Suba/recrie o container**

   * Subir em background: `docker compose up -d`
   * Se já existia e não pegou mudanças: `docker compose down && docker compose up -d`

7. **Usar variáveis no Python**
   Instale e use `python-dotenv`:

   ```python
   # pip install python-dotenv
   from dotenv import load_dotenv
   import os

   load_dotenv()               # carrega .env
   DB = os.getenv("MYSQL_DATABASE")
   USER = os.getenv("MYSQL_USER")
   PWD = os.getenv("MYSQL_PASSWORD")
   ```

8. **Atenção com volumes / dados**
   Se você mapear `./mysql-data:/var/lib/mysql`, **não apague** `./mysql-data` a menos que queira perder os dados. Para resetar: `docker compose down -v` (remove volumes).

9. **Boas práticas finais**

   * Publique **só** `.env.example`.
   * Nunca commit `.env`.
   * Mantenha instruções no README: “copie `.env.example` → `.env` e preencha”.

Pronto — assim suas senhas ficam fora do GitHub e o projeto continua fácil de rodar para outras pessoas. Quer que eu gere um `.env.example` pronto para você copiar?
