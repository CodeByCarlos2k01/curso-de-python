Aqui vai o **passo a passo** sobre `__dict__` e `vars()` em instâncias de classes:

1. O que são

* Toda **instância** tem um dicionário de atributos graváveis: `obj.__dict__`.
* `vars(obj)` **mostra o mesmo dicionário** (é um atalho para `obj.__dict__`).

2. Ver os dados da instância

```python
print(p1.__dict__)
print(vars(p1))        # igual ao de cima
```

3. Alterar atributos (jeito comum)

```python
p1.nome = "Ana"        # escreve no __dict__
del p1.nome            # remove a chave 'nome' do __dict__
```

4. Alterar direto pelo dicionário (possível, mas pouco comum)

```python
p1.__dict__['outra'] = 'coisa'   # cria/edita atributo
del p1.__dict__['idade']         # apaga atributo
```

Depois de apagar, `p1.idade` dá `AttributeError`.

5. Serializar (salvar) os dados em JSON

```python
import json
with open("pessoa.json", "w", encoding="utf-8") as f:
    json.dump(p1.__dict__, f, ensure_ascii=False, indent=2)
```

6. Desserializar (carregar) e recriar a instância

* Se o **construtor** aceita os mesmos nomes de chave:

```python
with open("pessoa.json", "r", encoding="utf-8") as f:
    dados = json.load(f)

p2 = Pessoa(**dados)   # desempacota o dicionário nos parâmetros
```

* Se não aceitar, você pode criar e depois preencher:

```python
p2 = Pessoa()
p2.__dict__.update(dados)
```

7. Resumo prático

* Use `obj.__dict__`/`vars(obj)` para **inspecionar** ou **persistir** os atributos da instância.
* Prefira `obj.atributo = valor` para alterar no dia a dia; mexer direto em `__dict__` é só quando fizer sentido (ex.: serialização).
