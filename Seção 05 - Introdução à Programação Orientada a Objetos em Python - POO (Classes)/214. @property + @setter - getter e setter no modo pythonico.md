# Passo a passo rápido: `property` e `setter` (em Python)

1. **O que é `@property`**

   * Transforma um método em **getter** — permite acessar `obj.atributo` como se fosse um atributo, mas executando código por trás.

2. **Como criar o getter**

```python
class Caneta:
    def __init__(self, cor):
        self._cor = cor   # atributo interno

    @property
    def cor(self):
        return self._cor
```

* `caneta.cor` chama o método `cor()` e retorna `_cor`.

3. **Sem setter = leitura apenas**

* Se não definir `@cor.setter`, `caneta.cor = "x"` dá `AttributeError` — a propriedade é somente leitura.

4. **Adicionar um setter**

* Use `@nome_da_property.setter` com o mesmo nome:

```python
    @cor.setter
    def cor(self, valor):
        self._cor = valor
```

* Assinatura: `def cor(self, valor)` — o `valor` vem do lado direito do `=`.

5. **Onde guardar o valor**

* Convenção: use `_cor` (underscore) como atributo interno. Isso indica “não use diretamente”.

6. **Validação e lógica no setter**

* Você pode validar/rejeitar valores:

```python
    @cor.setter
    def cor(self, valor):
        if not isinstance(valor, str):
            raise TypeError("cor precisa ser string")
        if valor == "rosa":
            raise ValueError("cor 'rosa' não permitida")
        self._cor = valor
```

7. **`__init__`: usar `self._cor` ou `self.cor`**

* `self._cor = ...` **ignora** o setter (atribuição direta).
* `self.cor = ...` **invoca** o setter (validação executada). Use conforme quiser aplicar regras já na construção do objeto.

8. **Boas práticas / quando usar**

* Use `@property` + `@setter` para: validação, normalização, registrar mudanças, manter compatibilidade (trocar atributo por método sem quebrar código do cliente).

9. **Resumo de bolso**

* `@property` = getter (obter)
* `@prop.setter` = setter (atribuir)
* Atributo interno: `_nome` (convenção: “privado”)
* `self._nome` (bypass), `self.nome` (passa pelo setter)

---

### Exemplo completo pequeno

```python
class Caneta:
    def __init__(self, cor="azul"):
        self.cor = cor          # chama o setter

    @property
    def cor(self):
        return self._cor

    @cor.setter
    def cor(self, valor):
        if not isinstance(valor, str):
            raise TypeError("cor precisa ser string")
        if valor == "rosa":
            raise ValueError("cor 'rosa' não permitida")
        self._cor = valor

c = Caneta("verde")
print(c.cor)   # verde
c.cor = "preto"  # OK
# c.cor = "rosa" -> ValueError
```

Se quiser, eu faço uma versão ainda mais enxuta (2–3 passos) ou adapto o exemplo para outro atributo. Quer?
