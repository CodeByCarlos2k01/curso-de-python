Aqui está a explicação simplificada em **passo a passo** sobre como proteger páginas e forçar login de usuários no Django:

---

## **1️⃣ Entender o `user.is_authenticated`**

* No template ou na view, você pode verificar se o usuário está logado usando:

  ```python
  request.user.is_authenticated
  ```
* Isso funciona tanto no template (`{% if user.is_authenticated %}`) quanto em views (`request.user`).

---

## **2️⃣ Usar `login_required` para proteger views**

* Importar o decorator:

  ```python
  from django.contrib.auth.decorators import login_required
  ```
* Decorar a view que precisa de login:

  ```python
  @login_required(login_url='login')
  def user_update(request):
      ...
  ```
* Se o usuário não estiver logado, ele será redirecionado para a página de login.

---

## **3️⃣ Aplicar `login_required` nas views certas**

* **Necessário login**:

  * Atualizar usuário (`user_update`)
  * Logout
  * Criar, atualizar ou deletar contatos (`contact_create`, `contact_update`, `contact_delete`)
* **Não precisa de login**:

  * Login
  * Registro de usuário (`register`)

---

## **4️⃣ Comportamento após atualização da senha**

* Alterar a senha desloga automaticamente o usuário.
* Se ele tentar acessar a mesma página depois:

  * `login_required` redireciona automaticamente para a página de login.
  * Opcional: usar `next` para voltar à página desejada após login.

---

## **5️⃣ Proteção de contatos**

* Só usuários logados podem criar contatos.
* Só o **owner** do contato poderá atualizar ou deletar esse contato.
* Links de update/delete devem ser exibidos apenas para o dono do contato (implementação futura).

---

Se você quiser, posso fazer uma **tabela visual resumindo todas as páginas e se precisam ou não de login**, fica super fácil de entender.

Quer que eu faça?
