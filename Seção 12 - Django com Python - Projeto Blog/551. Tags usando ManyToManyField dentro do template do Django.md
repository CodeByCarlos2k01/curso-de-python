# Passo a passo — Como exibir e linkar as tags de um post no Django

1. **Checar se o post tem tags**

   * Como `tags` é uma relação Many-to-Many, não use apenas `post.tags`.
   * Use `exists()` para verificar se há tags:

     ```django
     {% if post.tags.all.exists %}
       <!-- código para exibir tags -->
     {% endif %}
     ```

2. **Criar um loop para exibir cada tag**

   * Percorra todas as tags do post:

     ```django
     {% for tag in post.tags.all %}
       {{ tag.name }}
     {% endfor %}
     ```

3. **Criar URL para cada tag**

   * Se ainda não existe, crie uma view para tag (similar à view de category):

     ```python
     # views.py
     def tag_view(request, slug):
         tag = get_object_or_404(Tag, slug=slug)
         posts = tag.post_set.all()  # pega todos os posts com essa tag
         return render(request, 'blog/index.html', {'posts': posts, 'tag': tag})
     ```
   * Adicione a URL no `urls.py`:

     ```python
     path('blog/tag/<slug:slug>/', views.tag_view, name='tag')
     ```

4. **Adicionar link no template**

   * Substitua o texto da tag pelo link usando a URL criada:

     ```django
     {% for tag in post.tags.all %}
       <a href="{% url 'tag' tag.slug %}">{{ tag.name }}</a>
     {% endfor %}
     ```

5. **Testar funcionalidade**

   * Adicione algumas tags a posts que não tinham.
   * Verifique:

     * Se as tags aparecem apenas quando existem.
     * Se o link leva para a página correta mostrando posts com essa tag.

6. **Observações importantes**

   * Nomes de campos importam: se seu campo se chama `tags`, use `post.tags.all()`, não `post.tag`.
   * Posts sem tags não vão mostrar nada, mas o código não dá erro.
   * Se quiser, você pode estilizar as tags com CSS depois.

Com isso, você consegue exibir dinamicamente as tags de cada post e criar links para filtragem por tag.
