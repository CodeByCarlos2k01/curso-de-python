Aqui vai o passo a passo **enxuto** para varrer pastas recursivamente com `os.walk`:

---

## Passo a passo

1. **Importe e defina a pasta-base**

```python
import os
base = os.path.join(os.sep, 'Users', 'seu-usuario', 'Desktop', 'exemplo')
```

2. **Entenda o que `os.walk` entrega**

* `root`: caminho da pasta atual
* `dirs`: lista de subpastas dentro de `root`
* `files`: lista de arquivos dentro de `root`

3. **Uso básico**

```python
for root, dirs, files in os.walk(base):
    print('Pasta atual:', root)
```

4. **Listar subpastas e arquivos**

```python
for root, dirs, files in os.walk(base):
    print('Subpastas:', dirs)
    print('Arquivos:', files)
```

5. **Montar caminho completo de cada arquivo**

```python
for root, dirs, files in os.walk(base):
    for nome in files:
        caminho = os.path.join(root, nome)  # caminho absoluto do arquivo
        print(caminho)
```

6. **Filtrar por extensão**

```python
for root, dirs, files in os.walk(base):
    for nome in files:
        if nome.lower().endswith(('.jpg', '.png')):
            print(os.path.join(root, nome))
```

7. **Ignorar arquivos/ pastas ocultas (opcional)**

```python
for root, dirs, files in os.walk(base):
    dirs[:] = [d for d in dirs if not d.startswith('.')]
    files = [f for f in files if not f.startswith('.')]
```

8. **Pular subpastas específicas (podar a busca)**

```python
for root, dirs, files in os.walk(base):
    dirs[:] = [d for d in dirs if d != 'node_modules']  # exemplo
```

9. **Dica de desempenho**

* `os.walk` percorre **todas** as subpastas → pode ser lento em árvores grandes.
  Se só precisa do primeiro nível, use `os.listdir`.

10. **Cuidado ao modificar arquivos!**

* Para apagar/renomear, use o **caminho completo** e tenha certeza do que está fazendo.

```python
# EXEMPLO PERIGOSO: apaga arquivos .tmp
for root, _, files in os.walk(base):
    for nome in files:
        if nome.endswith('.tmp'):
            os.remove(os.path.join(root, nome))  # CUIDADO!
```
