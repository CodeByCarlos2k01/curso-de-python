# Passo a passo: **Classes abstratas (ABC)** — enxuto

1. **Ideia principal**

   * Classe abstrata = *contrato*. Define métodos que **devem** ser implementados pelas subclasses. Não se instancia diretamente.

2. **Por que usar**

   * Forçar uma interface comum (ex.: vários tipos de *Logger* que devem ter `log()`).
   * Reutilizar código concreto (métodos com implementação) e obrigar implementação dos abstratos.

3. **Como criar (forma simples)**

```python
from abc import ABC, abstractmethod

class Log(ABC):
    @abstractmethod
    def log(self, msg):
        ...
```

* `Log` agora é abstrata porque tem `@abstractmethod`.

4. **Regra importante**

   * Tentar `Log()` causa `TypeError: Can't instantiate abstract class ... with abstract methods ...`.

5. **Implementar na subclasse**

```python
class LogPrint(Log):
    def log(self, msg):
        print(msg)

l = LogPrint()
l.log("erro")   # funciona
```

* Toda subclasse deve implementar todos os métodos abstratos para poder ser instanciada.

6. **Classes abstratas podem ter código concreto**

   * Você pode colocar métodos com implementação normal na classe abstrata; subclasses reutilizam esse comportamento.

7. **Duas formas equivalentes de declarar ABC**

```python
# 1) Herdar de ABC (mais comum)
class C(ABC): ...
# 2) Usar metaclass explicitamente (equivalente)
from abc import ABCMeta
class C(metaclass=ABCMeta): ...
```

8. **Abstratos combinados com outros decoradores**

   * Você pode ter `@abstractmethod` em `@property`, `@classmethod`, `@staticmethod` etc.
   * Siga a ordem recomendada da documentação (ex.: para property abstrata use a ordem adequada do decorador conforme docs).

9. **Assinatura e tipo**

   * Mantenha a mesma assinatura (parâmetros/retorno) do método abstrato quando implementar — evita surpresas e facilita tipagem.

10. **Quando usar**

* Use ABC quando quiser **garantir** que certas operações existam nas subclasses (contrato), e quando for útil compartilhar implementações auxiliares na base.

---

### Mini-resumo (cheat-sheet)

* `@abstractmethod` → obriga implementação na subclasse.
* `class X(ABC):` → torna a classe apta a conter métodos abstratos.
* `TypeError` ao instanciar se houver métodos abstratos não implementados.
* ABCs servem como **contratos** + código reutilizável.

Quer que eu gere 2–3 exemplos de uso prático (logger, shape/area, e uma propriedade abstrata) para você testar?
