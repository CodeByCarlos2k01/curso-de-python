# Passo a passo detalhado — usar o script que inseriu dados de teste (100 linhas)

Vou transformar sua explicação em um roteiro claro, com comandos práticos e exemplos — do **rodar o script** até **exercícios** que você pode fazer com esses dados.

---

## 1. Localize o script

* O script de inserção está nos **recursos da aula** (arquivo `.sql`).
* Salve esse arquivo num lugar fácil (ex.: `scripts/seed_users.sql`).

---

## 2. Execute o script (duas opções)

### No DBeaver / interface gráfica

1. Abra a conexão com o banco (escolha a base como padrão).
2. Abra o arquivo `.sql` no editor.
3. Selecionar tudo → clicar em **Run** (ou `Ctrl+Enter`).
4. A saída deve dizer algo como *“100 rows inserted”*.

### Pela linha de comando (exemplo genérico)

* **Postgres** (dentro do container Docker ou host):

  ```bash
  psql -h localhost -U seu_usuario -d sua_base -f scripts/seed_users.sql
  ```
* **MySQL**:

  ```bash
  mysql -h localhost -u seu_usuario -p sua_base < scripts/seed_users.sql
  ```

> Ajuste host/usuário/senha conforme seu ambiente.

---

## 3. Verifique a inserção

Execute estas consultas para confirmar:

```sql
-- Contagem total de linhas na tabela users
SELECT COUNT(*) FROM users;

-- Veja as últimas 10 linhas inseridas
SELECT id, name, email, created_at
FROM users
ORDER BY id DESC
LIMIT 10;
```

Se `COUNT(*)` aumentou (ex.: +100) e as últimas linhas aparecem, o script funcionou.

---

## 4. Primeiros filtros / testes úteis

Use `SELECT` para explorar antes de alterar/apagar qualquer coisa.

Exemplos:

```sql
-- usuários criados depois de certa data
SELECT * FROM users
WHERE created_at > '2024-01-01'
ORDER BY created_at;

-- paginação (10 por página)
SELECT * FROM users ORDER BY id LIMIT 10 OFFSET 0;   -- página 1
SELECT * FROM users ORDER BY id LIMIT 10 OFFSET 10;  -- página 2

-- contar por dia
SELECT DATE(created_at) AS dia, COUNT(*) AS total
FROM users
GROUP BY DATE(created_at)
ORDER BY dia;
```

> `DATE(created_at)` funciona em Postgres/MySQL; se seu banco tiver outra função, adapte.

---

## 5. Atualizar dados — sempre testar antes

**Regra de ouro:** rode um `SELECT` com o mesmo `WHERE` antes do `UPDATE`.

```sql
-- 1) Verificar quais linhas serão alteradas
SELECT id, name, created_at FROM users
WHERE created_at < '2023-01-01';

-- 2) Atualizar (apenas depois de conferir)
UPDATE users
SET active = false
WHERE created_at < '2023-01-01';
```

Se quiser testar sem persistir, use transação (ver próximo item).

---

## 6. Deletar dados — atenção máxima

**Nunca** delete sem confirmar. Primeiro `SELECT`, depois `DELETE`. Exemplo:

```sql
-- Conferir quais serão apagados
SELECT id, email FROM users WHERE email LIKE 'test_%';

-- Apagar somente os test_*
DELETE FROM users WHERE email LIKE 'test_%';
```

Se for apagar muitos registros em produção, **faça backup** antes.

---

## 7. Use transações para testar (rollback se necessário)

Exemplo (Postgres/MySQL com suporte a transações):

```sql
BEGIN;

UPDATE users SET name = 'Teste' WHERE id = 123;
-- verificar resultado:
SELECT id, name FROM users WHERE id = 123;

-- se OK
COMMIT;

-- se quiser desfazer:
ROLLBACK;
```

No DBeaver, há botão para `Commit`/`Rollback` também.

---

## 8. Restaurar os dados (se apagar por engano)

* Re-execute o `scripts/seed_users.sql` (se o script for idempotente ou se você tiver truncado, re-crie a tabela antes).
* Melhor prática: antes de testes destrutivos, exporte a tabela (`Export` no DBeaver) ou faça dump (`pg_dump` / `mysqldump`).

---

## 9. Boas ideias de exercícios com os 100 registros

Faça estes exercícios para praticar `SELECT`, `UPDATE`, `DELETE`, `GROUP BY` e `WHERE`:

1. Contar quantos usuários por dia (`GROUP BY DATE(created_at)`).
2. Listar os 5 usuários mais recentes (`ORDER BY created_at DESC LIMIT 5`).
3. Atualizar um usuário específico por `id` (teste com `SELECT` antes).
4. Marcar `active=false` para usuários com `created_at` anterior a X data.
5. Deletar todos com email `LIKE 'temp_%'` (testar com `SELECT` antes).
6. Paginar resultados (LIMIT + OFFSET).
7. Encontrar possíveis e-mails duplicados:

   ```sql
   SELECT email, COUNT(*) AS cnt
   FROM users
   GROUP BY email
   HAVING COUNT(*) > 1;
   ```
8. Fazer uma consulta que junte `users` com `profiles` (JOIN) para praticar joins.
9. Calcular média/contagem por algum atributo (se tiver).
10. Simular múltiplas decorações: duplicar um registro (INSERT ... SELECT) para testar integridade.

---

## 10. Boas práticas finais

* **Sempre** `SELECT` antes de `UPDATE/DELETE`.
* Faça mudanças em **ambiente de dev**, nunca em produção.
* Mantenha scripts de seed em controle de versão (git).
* Use **transações** para testes arriscados.
* Se o script cria muitos dados, marque-os (ex.: `email LIKE 'seed_%'`) para fácil remoção posterior.

---

Se quiser, eu já te dou **um conjunto pronto** de 8 queries para testar agora (SELECTs, UPDATEs e DELETEs seguros) — quer que eu gere esse bloco pronto pra você copiar e colar no DBeaver?
