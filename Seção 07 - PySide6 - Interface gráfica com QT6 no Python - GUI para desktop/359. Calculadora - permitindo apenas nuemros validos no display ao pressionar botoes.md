Aqui está a explicação simplificada em **passo a passo** para a lógica da calculadora e a validação do que o usuário digita:

---

# Passo a passo: Lógica da calculadora e validação de entrada

### 1. Formar a operação

* A calculadora vai formar a equação assim:

```
número_esquerda + operador + número_direita
```

* O display **não vai mostrar** o sinal de igual ou valores intermediários inválidos.
* Cada botão clicado deve ser tratado antes de aparecer no display.

---

### 2. Detectar quando o usuário pressiona `=`

* Se o botão clicado for o sinal de igual:

  * **Não adicione** o "=" no display.
  * Avalie a operação usando o texto que está no display.

---

### 3. Avaliar a operação com cuidado

* **Nunca use `eval` direto em entradas do usuário sem validação**, é perigoso.
* Opção segura: separar os números e operadores manualmente antes de calcular.
* Exemplo rápido (apenas para teste):

```python
resultado = eval(display.text())  # MUITO CUIDADO
display.setText(str(resultado))
```

---

### 4. Validar números digitados

* Antes de inserir algo no display, verifique se o que vai formar um número é válido:

```python
def is_valid_number(s):
    try:
        float(s)
        return True
    except ValueError:
        return False
```

* Assim, o usuário não consegue digitar algo inválido, como “12..3” ou letras.

---

### 5. Inserir valor no display

* Pegue o texto atual do display e o texto do botão clicado:

```python
novo_texto = display.text() + button.text()
```

* Cheque se é um número válido:

```python
if is_valid_number(novo_texto):
    display.insert(button.text())  # Adiciona ao final
```

* Se não for válido, ignore a entrada.

---

### 6. Separar funções

* Uma função cuida de **inserir valores no display**.
* Outra função cuida de **calcular o resultado** quando "=" for clicado.
* Isso ajuda a manter o código limpo e seguro.

---

### 7. Evitar problemas futuros

* Garantir que o display só tenha números e operadores válidos.
* Garantir que o cálculo só seja feito com entradas válidas.
* Depois, é possível pegar o número da esquerda, operador e número da direita para lógica interna.

---

Se você quiser, posso fazer um **diagrama visual bem simples mostrando o fluxo do botão → display → cálculo**, que deixa tudo mais fácil de entender.

Quer que eu faça?
