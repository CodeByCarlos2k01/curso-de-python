# Passo a passo — Usando `string.Template` em Python

1. **Importe os módulos necessários**

```python
from string import Template
import locale
from datetime import datetime
```

---

2. **Configurar locale (opcional)**

* Para formatação de moeda e números:

```python
locale.setlocale(locale.LC_ALL, '')  # usa padrão do sistema
```

---

3. **Formatar valores e datas**

* Converter números em moeda:

```python
valor = 1_234_456
valor_formatado = locale.currency(valor, symbol=False, grouping=True)  # '1.234.456'
```

* Formatar data:

```python
data = datetime(2022, 12, 28)
data_formatada = data.strftime('%d/%m/%Y')  # '28/12/2022'
```

---

4. **Criar dicionário de dados**

```python
dados = {
    'nome': 'João',
    'valor': valor_formatado,
    'data': data_formatada,
    'empresa': 'O.M. Otávio Miranda',
    'telefone': '(11) 99999-9999'
}
```

---

5. **Criar texto com variáveis**

* Use `$variavel` para marcar onde os dados vão entrar:

```python
texto = """
Prezado $nome,
Informamos que sua mensalidade será cobrada no valor de $valor.
No dia $data.
Caso deseje cancelar o serviço, entre em contato com a empresa pelo telefone $telefone.
Atenciosamente, $empresa
"""
```

---

6. **Criar Template e substituir variáveis**

```python
template = Template(texto)
resultado = template.substitute(dados)  # substitui todas as variáveis
print(resultado)
```

* **Observação:** se alguma variável não existir, `substitute` dá erro.
* Use `safe_substitute` para ignorar variáveis faltantes sem erro:

```python
resultado = template.safe_substitute(dados)
```

---

7. **Ler texto de um arquivo (opcional)**

```python
from pathlib import Path

arquivo = Path('caminho/para/arquivo.txt')
with arquivo.open('r', encoding='utf-8') as f:
    texto = f.read()

template = Template(texto)
resultado = template.substitute(dados)
print(resultado)
```

---

8. **Alterar delimitador (opcional, avançado)**

```python
class MyTemplate(Template):
    delimiter = '%'  # agora usa %variavel
```

* Necessário mudar o texto para usar `%variavel` em vez de `$variavel`.

---

✅ **Resumo**

* `Template` permite substituir variáveis em textos de forma organizada.
* Útil para e-mails, relatórios e textos dinâmicos.
* `substitute` exige todas as variáveis; `safe_substitute` ignora faltantes.
* Você pode ler textos de arquivos e personalizar delimitadores se necessário.

Se quiser, posso fazer uma **versão ainda mais enxuta**, só com os comandos mínimos para criar e substituir um Template de forma prática. Quer que eu faça?
