Aqui está a explicação resumida em **passo a passo** para configurar o Nginx (Endings) com sua aplicação Django via Unicorn usando IP:

---

## **1️⃣ Preparar o arquivo de configuração do Nginx**

1. Pegue o arquivo `Endings.http` no repositório.
2. Substitua as variáveis:

   * `UnicornFilename` → nome da sua socket Unicorn (`agenda`)
   * `server_name` → IP do seu servidor
   * `AbsolutePath` → caminho absoluto da pasta do projeto (`pwd` dentro da pasta do projeto)
   * `StaticPath` → caminho absoluto da pasta `static`
   * `MediaPath` → caminho absoluto da pasta `media`

---

## **2️⃣ Criar o arquivo na pasta `sites-available`**

1. Acesse a pasta:

```bash
cd /etc/nginx/sites-available
```

2. Crie o arquivo:

```bash
sudo nano agenda
```

3. Cole o conteúdo do `Endings.http` editado.
4. Salve e saia: **Ctrl+O → Enter → Ctrl+X**

---

## **3️⃣ Criar o link simbólico em `sites-enabled`**

1. Acesse a pasta:

```bash
cd /etc/nginx/sites-enabled
```

2. Crie o link simbólico:

```bash
sudo ln -s /etc/nginx/sites-available/agenda /etc/nginx/sites-enabled/
```

---

## **4️⃣ Reiniciar o Nginx**

```bash
sudo systemctl restart nginx
```

---

## **5️⃣ Ajustar `ALLOWED_HOSTS` no Django**

1. Abra o `local_settings.py` do Django:

```bash
nano /home/usuario/AgendaEP/Project/local_settings.py
```

2. Adicione o IP do servidor e, se quiser, `127.0.0.1` e `localhost` na lista `ALLOWED_HOSTS`.

3. Salve e saia: **Ctrl+O → Enter → Ctrl+X**

4. Reinicie a socket Unicorn e o Nginx:

```bash
sudo systemctl restart agenda
sudo systemctl restart nginx
```

---

## **6️⃣ Configurar limite de upload (opcional)**

1. Abra o arquivo principal de configuração do Nginx:

```bash
sudo nano /etc/nginx/nginx.conf
```

2. Dentro do bloco `http { ... }`, adicione:

```nginx
client_max_body_size 30M;
```

3. Salve e saia.
4. Reinicie o Nginx:

```bash
sudo systemctl restart nginx
```

---

## **7️⃣ Testar a aplicação**

1. Abra o navegador com o IP do servidor.
2. Crie contatos ou faça uploads de arquivos grandes para verificar se tudo está funcionando.

---

Se você quiser, posso montar **uma versão super enxuta com todos os comandos prontos de uma vez**, tipo “copiar e colar” para fazer todo o deploy HTTP rapidamente.

Quer que eu faça isso?
