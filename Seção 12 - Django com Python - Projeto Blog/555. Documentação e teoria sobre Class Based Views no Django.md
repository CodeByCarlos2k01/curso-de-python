# Passo a passo simplificado — Converter Function-Based Views (FBV) para Class-Based Views (CBV)

1. **Entenda a diferença principal**

   * **Function-Based View (FBV):** é uma função que recebe `request` e retorna `response`.
   * **Class-Based View (CBV):** é uma classe que organiza métodos para cada tipo de requisição (`GET`, `POST`, etc.) e permite reutilização de código via herança.

2. **Quando usar FBV ou CBV**

   * Use **FBV** se a view é simples: só pega dados e renderiza um template.
   * Use **CBV** se a view tem **muita lógica**, precisa lidar com diferentes métodos HTTP, ou você está repetindo código em várias views.

3. **Vantagens de CBV**

   * Métodos separados para `GET`, `POST`, etc., evitando muitos `if request.method == '...'`.
   * Facilita herança e reutilização de código.
   * Paginação pronta para listas de objetos (`ListView`).
   * Manipulação do contexto e do queryset por métodos específicos (`get_context_data`, `get_queryset`).
   * Mais fácil de testar e manter código limpo.

4. **Escolher o tipo de CBV**

   * **TemplateView:** renderiza um template com contexto.
   * **ListView:** lista de objetos, com suporte a paginação.
   * **DetailView:** detalha um único objeto.
   * **RedirectView, CreateView, UpdateView, DeleteView:** para redirecionamentos e operações CRUD.

5. **Sobrescrever métodos importantes**

   * `get_queryset()`: retorna os objetos que a view vai exibir.
   * `get_context_data()`: manipula os dados que serão enviados para o template.
   * `get()`, `post()`: sobrescreva se precisar lógica específica para métodos HTTP.

6. **Fluxo interno do CBV**

   * O método `dispatch()` identifica o método HTTP da requisição e chama o método correspondente (`get`, `post`, etc.).
   * Cada método da classe deve tratar apenas sua responsabilidade, mantendo o código organizado.

7. **Boas práticas**

   * Evite duplicar código: reutilize CBVs com herança.
   * Só sobrescreva métodos avançados se necessário; na maioria dos casos, `get_queryset()` e `get_context_data()` são suficientes.
   * Analise se os dados são uma lista (usa `ListView`) ou um único objeto (usa `DetailView`).

8. **Resumo de decisão rápida**

   * **FBV:** simples, pega dados e renderiza template.
   * **CBV:** lógica complexa, múltiplos métodos HTTP, repetição de código, necessidade de herança.

Se quiser, posso criar **um mini-guia visual mostrando como converter uma FBV de exemplo para CBV** de forma prática. Quer que eu faça?
