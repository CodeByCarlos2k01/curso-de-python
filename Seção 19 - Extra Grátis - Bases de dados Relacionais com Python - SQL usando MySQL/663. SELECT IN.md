# Passo a passo — usar **IN** (selecionar se o valor está em uma lista)

Vou simplificar **detalhadamente** em passos curtos, com exemplos práticos em SQL. Usarei a tabela `users` (colunas `id`, `name`, `created_at`) como exemplo — troque pelos nomes reais da sua tabela quando for testar.

---

## 1) Objetivo do `IN`

Quando você quer filtrar linhas cujo valor de uma coluna **seja um entre vários valores** (por exemplo `id` = 110 **ou** 115 **ou** 120), use `IN`. É equivalente a várias comparações `OR`, mas bem mais limpo.

---

## 2) Sintaxe básica (números)

```sql
SELECT * FROM users
WHERE id IN (110, 115, 120);
```

* Retorna apenas as linhas cujo `id` seja 110, 115 ou 120.
* A ordem dos valores no parênteses **não importa**.

---

## 3) Sintaxe básica (texto)

Se a coluna é texto, coloque aspas:

```sql
SELECT * FROM users
WHERE name IN ('Luiz', 'Rose', 'Maria');
```

---

## 4) Mesma coisa com `OR` (comparação)

`IN` substitui várias condições `OR`:

```sql
-- Equivalente a IN(110,115,120)
SELECT * FROM users WHERE id = 110 OR id = 115 OR id = 120;
```

Use `IN` — fica mais legível e menos sujeito a erros.

---

## 5) Combinar `IN` com outras condições

Você pode combinar com `AND`, `OR`, etc.:

```sql
SELECT * FROM users
WHERE id IN (110, 115, 120)
  AND created_at >= '2023-01-01';
```

---

## 6) `NOT IN` (valores que **não** estão na lista)

```sql
SELECT * FROM users WHERE id NOT IN (110, 115, 120);
```

**Atenção:** se a lista ou a coluna puder ter `NULL`, `NOT IN` pode comportar-se de forma inesperada (veja item 8).

---

## 7) `IN` com subconsulta (dinâmico)

Você pode passar uma lista gerada por outra consulta:

```sql
SELECT * FROM users
WHERE id IN (SELECT user_id FROM permissions WHERE role = 'editor');
```

Útil quando a lista vem de outra tabela.

---

## 8) Cuidado com `NULL`

* `col IN (...)` **não** retorna linhas onde `col IS NULL`.
* `col NOT IN (...)` **não retorna** nada se a lista contiver `NULL` (resultado ambíguo).
  Se precisar incluir `NULL`, trate explicitamente:

```sql
SELECT * FROM users
WHERE id IN (110, 115) OR id IS NULL;
```

---

## 9) Quando a lista é grande

Se a lista for muito longa (centenas ou milhares de valores), evite `IN` com grande literal — prefira:

* inserir esses valores em uma tabela temporária e fazer `JOIN`, ou
* usar uma subconsulta que já retorne esses valores.
  Exemplo com join:

```sql
-- table temp_ids(id)
SELECT u.*
FROM users u
JOIN temp_ids t ON u.id = t.id;
```

---

## 10) Tipos devem combinar

Tenha certeza de que os tipos batem:

* números sem aspas (`110`)
* strings com aspas (`'Luiz'`)
  Comparações entre tipos diferentes podem fazer o banco converter ou falhar.

---

## 11) Exemplos práticos (da explicação original)

**Selecionar IDs específicos:**

```sql
SELECT * FROM users WHERE id IN (110, 115, 120, 125);
```

**Selecionar por nome *e* id (ambos precisam bater):**

```sql
SELECT * FROM users
WHERE id IN (110, 115, 120)
  AND name IN ('Luiz', 'Rose');
```

---

## 12) Boas práticas rápidas

* Use `IN` para poucas opções fixas; para listas grandes prefira tabelas temporárias / `JOIN`.
* Prefira `>= start AND < next_day` para ranges de data (evita problemas com horas).
* Teste com `SELECT` antes de rodar `DELETE`/`UPDATE`.
* Use `prepared statements` / parâmetros para evitar SQL injection se valores vêm do usuário.

---

Se quiser, eu já crio pra você **queries prontas** usando a sua tabela e os valores que você mencionou (ex.: `id IN (110,115,120)` e `name IN ('Luiz','Rose')`) — é só me dizer o nome da tabela/colunas que quer usar.
