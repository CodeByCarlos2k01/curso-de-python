Aqui está a explicação resumida em **passo a passo** para gerar e configurar um certificado SSL gratuito com Let's Encrypt no seu domínio:

---

## **1️⃣ Pré-requisitos**

* Ter um domínio configurado e apontando para o seu servidor (seguindo a aula anterior).
* Ter o servidor configurado com Nginx/Unicorn/Django funcionando.

---

## **2️⃣ Entender o objetivo**

* Sem SSL: dados trafegam em texto puro → risco de roubo de informações.
* Com SSL (HTTPS): dados são criptografados de ponta a ponta → segurança para login, cadastro e pagamentos.

---

## **3️⃣ Instalar o Certbot**

* Certbot é a ferramenta da Let's Encrypt para gerar certificados SSL gratuitos.
* Instale no servidor (comandos podem variar conforme o sistema operacional).

---

## **4️⃣ Parar o servidor temporariamente**

```bash
sudo systemctl stop endings
```

* Necessário para o Certbot gerar o certificado no modo standalone.

---

## **5️⃣ Gerar o certificado SSL**

```bash
sudo certbot certonly --standalone -d seu_dominio.com.br
```

* Substitua `seu_dominio.com.br` pelo seu domínio.
* Digite um e-mail válido para notificações de renovação.
* Aceite os termos de uso e confirme o compartilhamento de e-mail.
* Após execução, o certificado e a chave ficam em `/etc/letsencrypt/live/seu_dominio.com.br/`.

---

## **6️⃣ Configurar Nginx para HTTPS**

1. Crie um novo arquivo de configuração em `/etc/nginx/sites-available/` (ex.: `agenda_domain_ssl`).
2. Configure o `server` para:

   * **Porta 80** → redirecionar para HTTPS.
   * **Porta 443** → usar o certificado SSL e chave privada:

     * `fullchain.pem` → certificado público
     * `privkey.pem` → chave privada
3. Configure caminhos de `static`, `media` e o `Unicorn filename` como antes.

---

## **7️⃣ Ativar a configuração**

```bash
sudo ln -s /etc/nginx/sites-available/agenda_domain_ssl /etc/nginx/sites-enabled/agenda_domain_ssl
sudo nginx -t  # verificar configuração
sudo systemctl restart nginx
sudo systemctl restart agenda
```

---

## **8️⃣ Ajustes no Django**

* Adicione seu domínio em `ALLOWED_HOSTS` no `local_settings.py` ou `settings.py`:

```python
ALLOWED_HOSTS = ['seu_dominio.com.br']
```

* Reinicie o Django/Unicorn para aplicar.

---

## **9️⃣ Verificação**

* Acesse `https://seu_dominio.com.br` → site deve abrir com **cadeado de conexão segura**.
* O HTTP (porta 80) deve redirecionar automaticamente para HTTPS (porta 443).

---

## **10️⃣ Observações**

* Certificados Let's Encrypt expiram a cada 90 dias → renove periodicamente.
* Logs de erro do Nginx (`/var/log/nginx/seu_dominio-error.log`) ajudam a depurar problemas, como socket faltando ou bad gateway.

---

Se quiser, posso fazer **uma versão ainda mais enxuta**, mostrando apenas os **comandos essenciais** do Certbot e Nginx para gerar o SSL rapidamente.

Quer que eu faça?
